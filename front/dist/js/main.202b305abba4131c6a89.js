"use strict";(self.webpackChunkreact_modele=self.webpackChunkreact_modele||[]).push([[179],{2089:(e,t,n)=>{var a=n(7294),r=n(3935),c=n(8216),s=n(5977),l=n(5857),o=(n(9070),n(7941),n(2526),n(7327),n(5003),n(9554),n(4747),n(9337),n(3321),"FETCH_ALL_CAKES"),i="FETCH_ALL_CAKES_SUCCESS";function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p={list:[]};const g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o:return m({},e);case i:return m(m({},e),{},{list:t.cakes});default:return e}};n(8309);var f="LOGIN",h="LOGIN_SUCCESS",E="LOGIN_INPUT_CHANGE",v="LOGOUT";function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N={auth:{email:"test@test.com",password:"12345"},loggedMessage:"",isLogged:!1};const k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case f:return y({},e);case h:return y(y({},e),{},{auth:{email:"",password:""},isLogged:!0,loggedMessage:"Bonjour ".concat(t.user.pseudo)});case E:return y(y({},e),{},{auth:y(y({},e.auth),{},O({},t.name,t.text))});case v:return y(y({},e),{},{isLogged:!1,loggedMessage:""});default:return e}};const C=(0,l.UY)({cakes:g,user:k});var j=n(9669),w=n.n(j);var L=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.qC)((0,l.md)((function(e){return function(t){return function(n){if(n.type===o)t(n),console.log("je cherche les cakes"),w()({method:"get",url:"".concat("http://localhost:5000/api","/cakes")}).then((function(t){console.log("je reçois ça",t.data),e.dispatch(function(e){return{type:i,cakes:e}}(t.data))})).catch((function(e){console.log("une erreur s'est produite")}));else t(n)}}}),(function(e){return function(t){return function(n){if(n.type===f){t(n);var a=e.getState().user.auth;w()({method:"post",url:"".concat("http://localhost:5000/api","/login"),data:a}).then((function(t){var n=t.data;e.dispatch(function(e){return{type:h,user:e}}(n))})).catch((function(e){console.log("impossible de se connecter",e)}))}else t(n)}}})));const P=(0,l.MT)(C,L);const q=(0,n(7531).lX)();var R=n(5697),_=n.n(R),A=n(3727);const S=function(){return a.createElement("nav",{className:"menu"},a.createElement(A.OL,{activeClassName:"menu-link--active",className:"menu-link",to:"/",exact:!0},"Our cakes"),a.createElement(A.OL,{activeClassName:"menu-link--active",className:"menu-link",to:"/About-us",exact:!0},"About us"),a.createElement(A.OL,{activeClassName:"menu-link--active",className:"menu-link",to:"/FAQ",exact:!0},"FAQ"),a.createElement(A.OL,{activeClassName:"menu-link--active",className:"menu-link",to:"/Contact-us",exact:!0},"Contact us"))};n(4916),n(4723),n(1817);var x=function(e){var t=e.value,n=e.type,r=e.name,c=e.placeholder,s=e.onChange,l="field-".concat(r);return a.createElement("div",{className:t.length>0?"field field--has-content":"field"},a.createElement("input",{value:t,onChange:function(e){s(e.target.value,r)},id:l,type:n,className:"field-input",placeholder:c,name:r}),a.createElement("label",{htmlFor:l,className:"field-label"},c))};x.propTypes={value:_().string,type:_().string,name:_().string.isRequired,placeholder:_().string.isRequired,onChange:_().func.isRequired},x.defaultProps={value:"",type:"text"};const T=x;var D=function(e){var t=e.email,n=e.password,r=e.changeField,c=e.handleLogin,s=e.handleLogout,l=e.isLogged,o=e.loggedMessage;return a.createElement("div",{className:"login-form"},l&&a.createElement("div",{className:"login-form-logged"},a.createElement("p",{className:"login-form-message"},o),a.createElement("button",{type:"button",className:"login-form-button",onClick:s},"Déconnexion")),!l&&a.createElement("form",{autoComplete:"off",className:"login-form-element",onSubmit:function(e){e.preventDefault(),c()}},a.createElement(T,{name:"email",placeholder:"Adresse Email",onChange:r,value:t}),a.createElement(T,{name:"password",type:"password",placeholder:"Mot de passe",onChange:r,value:n}),a.createElement("button",{type:"submit",className:"login-form-button"},"OK")))};D.propTypes={email:_().string.isRequired,password:_().string.isRequired,changeField:_().func.isRequired,handleLogin:_().func.isRequired,handleLogout:_().func.isRequired,isLogged:_().bool,loggedMessage:_().string},D.defaultProps={isLogged:!1,loggedMessage:"Connecté"};const F=D;var M=(0,c.$j)((function(e){var t=e.user;return{email:t.auth.email,password:t.auth.password,isLogged:t.isLogged,loggedMessage:t.loggedMessage}}),(function(e){return{handleLogin:function(){console.log("login"),e({type:f})},changeField:function(t,n){console.log("change",t,n),e({type:E,text:t,name:n})},handleLogout:function(){console.log("logout"),e({type:v})}}}))(F);const U=(0,s.EN)(M),I=n.p+"images/f2d8cd02018834af00f67d8c7ae165be.png";const W=function(){return a.createElement("div",{className:"banner"},a.createElement("img",{src:I,className:"logo"}),a.createElement(U,null))};var G=function(e){var t=e.name,n=e.thumbnail,r=e.season;return a.createElement("header",{className:"presentation"},a.createElement("img",{src:n,alt:"Cakes",className:"presentation-image"}),a.createElement("div",{className:"presentation-content"},a.createElement("h1",{className:"presentation-title"},t),a.createElement("p",{className:"presentation-season"},"Season - ",r)))};G.propTypes={name:_().string.isRequired,thumbnail:_().string.isRequired,season:_().string.isRequired};const K=G;var Q=function(e){var t=e.description;return a.createElement("div",{className:"description"},a.createElement("p",null,t),";")};Q.propTypes={description:_().string.isRequired};const $=Q;function H(e){var t=e.cake;return t||console.log("Unable to fetch the cake"),a.createElement("div",null,a.createElement(W,null),a.createElement("div",{className:"cake"},a.createElement(K,{name:t.name,thumbnail:t.thumbnail,season:t.season}),a.createElement($,{description:t.description})))}H.propTypes={cake:_().shape({name:_().string.isRequired,thumbnail:_().string.isRequired,season:_().string.isRequired,description:_().string.isRequired})},H.defaultProps={cake:null};const X=H;n(9826);var B=function(e,t){return e.find((function(e){return e._id==t}))},z=(0,c.$j)((function(e,t){var n=t.match.params._id,a=B(e.cakes.list,n);return console.log("Je fetch la Cake",a),{cake:B(e.cakes.list,n)}}),{})(X);const J=(0,s.EN)(z);n(1249),n(9601);var V=function(e){var t,n=e._id,r=e.name,c=e.thumbnail,l=e.season;e.handleClick;return t=(0,s.k6)(),a.createElement("div",{className:"card"},a.createElement("img",{className:"card-img",src:c,alt:r}),a.createElement("div",{className:"card-content"},a.createElement("h1",{className:"card-name"},r),a.createElement("p",{className:"card-season"},"Season : ",l),a.createElement(A.rU,{to:"/cakes/".concat(n),className:"card-link",onClick:function(){t.push("/cakes/".concat(n))}},"See details")))};V.propTypes={name:_().string.isRequired,thumbnail:_().string.isRequired,season:_().string.isRequired,handleClick:_().func};const Y=V;function Z(){return Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Z.apply(this,arguments)}var ee=function(e){var t=e.title,n=e.text,r=e.cakes;return a.createElement("section",{className:"content"},a.createElement("h1",{className:"content-title"},t),a.createElement("p",{className:"content-text"},n),r&&a.createElement("div",{className:"content-list"},r.map((function(e){return a.createElement(Y,Z({key:e._id},e))}))))};ee.propTypes={title:_().string.isRequired,text:_().string.isRequired,cakes:_().arrayOf(_().shape({_id:_().string.isRequired}))},ee.defaultProps={cakes:null};const te=ee;var ne=function(e){var t=e.cakes;return a.createElement("div",null,a.createElement(W,null),a.createElement(te,{title:"Welcome to Kata's Cakes",text:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Fuga, explicabo.",cakes:t}))};ne.propTypes={cakes:_().array.isRequired};const ae=ne;const re=(0,c.$j)((function(e){return{cakes:e.cakes.list}}),{})(ae);const ce=function(){return a.createElement("div",{className:"footer"},a.createElement("p",{className:"contact"},"Contact Us"),a.createElement("p",{className:"copyright"},"Copyright © 2021"))};const se=function(){return a.createElement("div",null,a.createElement(W,null),a.createElement("div",{className:"container"},a.createElement("h1",null,"Contact Us- Coming soon")))};const le=function(){return a.createElement("div",null,a.createElement(W,null),a.createElement("div",{className:"container"},a.createElement("h1",null,"About Us- Coming soon")))};const oe=function(){return a.createElement("div",null,a.createElement(W,null),a.createElement("div",{className:"container"},a.createElement("h1",null,"FAQ- Coming soon")))};const ie=function(e){var t=e.fetchAllCakes;return(0,a.useEffect)(t,[]),a.createElement("div",{className:"app"},a.createElement(S,null),a.createElement(s.rs,null,a.createElement(s.AW,{exact:!0,path:"/"},a.createElement(re,null)),a.createElement(s.AW,{exact:!0,path:"/cakes/:_id"},a.createElement(J,null)),a.createElement(s.AW,{exact:!0,path:"/About-us"},a.createElement(le,null)),a.createElement(s.AW,{exact:!0,path:"/FAQ"},a.createElement(oe,null)),a.createElement(s.AW,{exact:!0,path:"/Contact-us"},a.createElement(se,null))),a.createElement(ce,null))};const ue=(0,c.$j)(null,(function(e){return{fetchAllCakes:function(){console.log("fetch cakes"),e({type:o})}}}))(ie);var me=a.createElement(c.zt,{store:P},a.createElement(s.F0,{history:q},a.createElement(ue,null))),de=document.getElementById("root");r.render(me,de)},9193:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[36],(()=>(t(9193),t(2089))));e.O()}]);